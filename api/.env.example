# API 서버 설정
# CORS 설정 - 콤마로 구분된 문자열 형태로 설정
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ===================================
# Environment Configuration
# ===================================
# 환경 설정: local, development, production
# - local: 로컬 개발 환경 (디버그 모드, 상세 로깅)
# - development: 개발 서버 환경 (디버그 모드, 표준 로깅)
# - production: 프로덕션 환경 (디버그 비활성화, 최소 로깅)
ENVIRONMENT=development

# 디버그 여부 (ENVIRONMENT에 따라 자동 설정되지만 명시적으로 설정 가능)
DEBUG=false 

# stream 디버그 여부
DEBUG_STREAM=false

# Langgarph Stream Callback
USE_STREAMING_MODE=true

# 로그 레벨
# critical: 가장 심각한 오류만
# error: 오류만
# warning: 경고 이상
# info: 정보 이상 (기본값)
# debug: 모든 로그 (가장 상세)
# trace: uvicorn 전용 (가장 상세)
LOG_LEVEL=info

# 로그 롤링 설정
# LOG_FILE_MAX_BYTES: 로그 파일 최대 크기 (바이트 단위, 기본값: 10MB)
LOG_FILE_MAX_BYTES=10485760
# LOG_FILE_BACKUP_COUNT: 롤링 파일 보관 개수 (기본값: 10개)
LOG_FILE_BACKUP_COUNT=10

# 스트리밍 캐싱 활성화
ENABLE_STREAM_CACHE=true

# 캐시 TTL (초 단위, 기본값: 3600 = 1시간)
STREAM_CACHE_TTL_SECONDS=3600

# 최대 캐시 항목 수 (기본값: 100)
STREAM_CACHE_MAX_SIZE=100

# vite
VITE_API_BASE_URL=http://localhost:8000

# 비회원 질의 가능 횟수
ANONYMOUS_QUOTA_LIMIT=3

# LangSmith 활성화
LANGSMITH_TRACING=true
LANGSMITH_ENDPOINT=https://api.smith.langchain.com
LANGSMITH_API_KEY=your_langsmith_api_key_here
LANGSMITH_PROJECT=LawFirmAI
ENABLE_LANGSMITH=true

# JWT 인증 설정
AUTH_ENABLED=true
JWT_SECRET_KEY=your_jwt_secret_key_here_min_32_chars

# OAuth2 Google Authentication
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:8000/api/v1/oauth2/google/callback

# 익명 사용자 질의 제한 설정
ANONYMOUS_QUOTA_ENABLED=true
ANONYMOUS_QUOTA_LIMIT=3
ANONYMOUS_QUOTA_RESET_HOUR=0

# 검증용 LLM 설정 (선택적)
VALIDATOR_LLM_PROVIDER=google
VALIDATOR_LLM_MODEL=gemini-2.5-flash-lite

# ===================================
# 데이터베이스 설정 (PostgreSQL 전용)
# ===================================
# SQLite는 더 이상 지원하지 않습니다. PostgreSQL을 사용하세요.

# 방법 1: DATABASE_URL을 직접 설정 (우선순위 높음)
# - 로컬 PostgreSQL 예시: postgresql://user:password@localhost:5432/dbname
# - Docker PostgreSQL 예시: postgresql://lawfirmai:lawfirmai@postgres:5432/lawfirmai
# DATABASE_URL=postgresql://lawfirmai:local_password@localhost:5432/lawfirmai_local

# 방법 2: PostgreSQL 환경변수 조합 사용 (DATABASE_URL이 없을 때 사용)
# DATABASE_URL이 설정되지 않으면 아래 환경변수들을 조합하여 자동 생성됩니다.
# 프로젝트 루트의 .env 파일(21-29줄)의 PostgreSQL 설정을 우선 사용합니다.
# 프로젝트 루트 .env 파일이 없거나 설정이 없으면 아래 기본값을 사용합니다.
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=lawfirmai_local
POSTGRES_USER=lawfirmai
POSTGRES_PASSWORD=local_password

# ===================================
# 레거시 설정 (사용 안 함, 하위 호환성 유지)
# ===================================
# DATABASE_PATH는 더 이상 사용하지 않습니다. PostgreSQL을 사용하세요.
# DATABASE_PATH=./data/lawfirm_v2.db

# ============================================================================
# 외부 벡터 인덱스 설정 (Vector Store Configuration)
# ============================================================================

# USE_EXTERNAL_VECTOR_STORE: 외부 FAISS 인덱스 사용 여부
# - true: 미리 생성된 외부 FAISS 인덱스 사용 (더 빠른 검색, 버전 관리 가능)
# - false: DB 기반 인덱스 자동 생성 사용 (기본값)
# 예시: USE_EXTERNAL_VECTOR_STORE=true
USE_EXTERNAL_VECTOR_STORE=false

# EXTERNAL_VECTOR_STORE_BASE_PATH: 외부 FAISS 인덱스 기본 경로
# - 디렉토리 경로를 지정하면 자동으로 ml_enhanced_faiss_index.faiss 파일을 찾습니다
# - 상대 경로 예시: ./data/embeddings/ml_enhanced_ko_sroberta_precedents
# - 절대 경로 예시: D:/project/LawFirmAI/LawFirmAI/data/embeddings/ml_enhanced_ko_sroberta_precedents
# 예시: EXTERNAL_VECTOR_STORE_BASE_PATH=./data/embeddings/ml_enhanced_ko_sroberta_precedents
EXTERNAL_VECTOR_STORE_BASE_PATH=

# VECTOR_STORE_VERSION: 사용할 벡터스토어 버전 번호 (선택사항)
# - 지정하지 않으면 최신 버전을 자동으로 사용합니다
# - 버전 형식: v2.0.0, v1.5.0 등 (semantic versioning)
# - 예시: VECTOR_STORE_VERSION=v2.0.0
VECTOR_STORE_VERSION=