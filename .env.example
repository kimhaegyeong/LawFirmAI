# MLflow
MLFLOW_TRACKING_URI=file:///D:/project/LawFirmAI/LawFirmAI/mlflow/mlruns
USE_MLFLOW_INDEX=true
# 특정 run_id로 실행할때 사용
MLFLOW_RUN_ID=mlflow_run_id

# HuggingFace Spaces Configuration
HF_SPACE_ID=your-space-id
HF_TOKEN=your-hf-token

# 임베딩 모델
EMBEDDING_MODEL="woong0322/ko-legal-sbert-finetuned"

# ===================================
# 테스트 설정
# ===================================
ENABLE_PROFILING=false
ENABLE_MEMORY_MONITORING=false

# ===================================
# PostgreSQL 설정
# ===================================
# 메인 데이터베이스 연결 URL (선택적, 없으면 POSTGRES_* 환경 변수로 자동 구성)
# 로컬 개발: postgresql://lawfirmai:local_password@localhost:5432/lawfirmai_local
# Docker: postgresql://lawfirmai:local_password@postgres:5432/lawfirmai_local
# DATABASE_URL=postgresql://lawfirmai:local_password@localhost:5432/lawfirmai_local

# PostgreSQL 개별 설정 (DATABASE_URL이 없을 때 사용, 기본값)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=lawfirmai_local
POSTGRES_USER=lawfirmai
POSTGRES_PASSWORD=local_password
DB_POOL_MAX_SIZE=100
   
# ===================================
# LangGraph 체크포인트 설정
# ===================================
# 체크포인트 저장소 타입: "memory" (개발용), "postgres" (프로덕션용), "disabled"
CHECKPOINT_STORAGE=postgres

# 체크포인트용 데이터베이스 URL (선택적, 없으면 DATABASE_URL 또는 POSTGRES_* 환경 변수 사용)
# 같은 데이터베이스를 사용하거나 별도 데이터베이스 사용 가능
# CHECKPOINT_DATABASE_URL=postgresql://lawfirmai:local_password@localhost:5432/lawfirmai_local

# 벡터 검색 방법: "pgvector" (PostgreSQL 기반), "faiss" (FAISS 기반), "hybrid" (하이브리드 기반)
VECTOR_SEARCH_METHOD=pgvector

# ===================================
# 프롬프트 문서 타입별 할당량 설정
# ===================================
# 법률 조문 할당량
PROMPT_STATUTE_MIN=2    # 법률 조문 최소 개수
PROMPT_STATUTE_MAX=5    # 법률 조문 최대 개수

# 판례 할당량
PROMPT_PRECEDENT_MIN=2  # 판례 최소 개수
PROMPT_PRECEDENT_MAX=5  # 판례 최대 개수

# 기타 문서 할당량
PROMPT_OTHER_MIN=1      # 기타 문서 최소 개수
PROMPT_OTHER_MAX=3      # 기타 문서 최대 개수

# ===================================
# 문서 처리 최적화 설정
# ===================================
# 조문 원문 보존 설정
PROMPT_STATUTE_PRESERVE_FULL=true  # 조문 원문 보존 여부 (true: 원문 그대로, false: 축약 허용)
PROMPT_STATUTE_MAX_LENGTH=5000     # 조문 최대 길이 (원문 보존 시, 초과 시 해당 조문 제외)

# 판례 요약 설정
PRECEDENT_SUMMARY_THRESHOLD=2000      # 판례 요약 임계값 (문자 수, 이 값 이상이면 요약)
PRECEDENT_SUMMARY_MAX_LENGTH=1000     # 판례 요약 최대 길이 (문자 수)
PRECEDENT_SUMMARY_USE_LLM=true        # LLM 요약 사용 여부 (true: LLM 요약, false: 스마트 축약만)

# 프롬프트 최적화 설정
PROMPT_SHOW_DOCUMENT_INFO=false       # 문서 정보 표시 여부 (true: 상세 정보, false: 간소화)

# ===================================
# 답변 생성 설정
# ===================================
# LLM 최대 출력 토큰 수
# Gemini 2.5 Flash Lite 최대 출력 토큰: 65,536 토큰
# 기본값: 65536 (Gemini 2.5 Flash Lite 최대값, 약 260,000자)
MAX_OUTPUT_TOKENS=65536

# 답변 최대 길이 (문자 수)
# MAX_OUTPUT_TOKENS 기반으로 자동 계산 (기본값: MAX_OUTPUT_TOKENS * 4)
# 환경 변수로 직접 설정도 가능 (우선순위: 환경 변수 > MAX_OUTPUT_TOKENS 기반 계산)
# MAX_ANSWER_LENGTH=260000

# ===================================
# 답변 생성 설정
# ===================================
# 답변 최대 길이 (문자 수)
# Gemini 2.5 Flash Lite 최대 출력 토큰: 65,536 토큰 (약 260,000자)
# 기본값: 260000 (Gemini 2.5 Flash Lite 한계)
MAX_ANSWER_LENGTH=260000