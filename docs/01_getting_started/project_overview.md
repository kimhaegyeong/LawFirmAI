# LawFirmAI 프로젝트 개요

## 🎯 프로젝트 소개

**프로젝트명**: LawFirmAI - 지능형 법률 AI 어시스턴트  
**목표**: HuggingFace Spaces 배포를 위한 법률 AI 시스템 개발  
**현재 상태**: 시스템 통합 및 성능 최적화 완료

## 🚀 핵심 기능

### 1. 데이터베이스 시스템
- **SQLite 데이터베이스**: 법률 및 판례 문서 저장
- **Assembly 법률**: 국회 법률정보시스템 데이터 수집 완료
- **판례 데이터**: 민사/형사/가사/조세/행정/특허 판례 분류 처리
- **메타데이터 관리**: 구조화된 법령/판례 정보 저장

### 2. 벡터 임베딩 시스템
- **FAISS 벡터 인덱스**: 법률 및 판례 문서 벡터 임베딩
- **임베딩 모델**: ko-sroberta-multitask (768차원)
- **검색 성능**: 평균 응답 시간 < 1초
- **증분 업데이트**: 새로운 데이터 자동 처리

### 3. 하이브리드 검색 시스템
- **벡터 검색**: 의미적 유사도 기반 검색
- **정확 매칭**: 키워드 기반 정확한 매칭
- **결과 통합**: 가중 평균으로 검색 결과 결합

### 4. 지능형 챗봇 시스템
- **질문 분류**: 6가지 질문 유형 자동 분류
- **동적 검색**: 질문 유형별 검색 가중치 조정
- **구조화된 답변**: 질문 유형별 맞춤형 답변
- **신뢰도 시스템**: 답변 신뢰성 수치화

### 5. AI 모델 시스템
- **Google Gemini 2.5 Flash Lite**: 클라우드 LLM 모델
- **LangChain 기반**: 안정적인 LLM 관리
- **LangGraph 워크플로우**: State 기반 법률 질문 처리 시스템
- **UnifiedPromptManager**: 법률 도메인별 프롬프트 통합 관리

## 🔧 기술 스택

- **백엔드**: FastAPI, SQLite, FAISS, LangChain, LangGraph
- **AI/ML**: Google Gemini 2.5 Flash Lite, ko-sroberta-multitask, Sentence-BERT
- **프론트엔드**: Streamlit (LangChain 기반)
- **검색**: 하이브리드 검색 (의미적 + 정확 매칭)
- **RAG**: LangGraph 기반 RAG 시스템
- **배포**: Docker, HuggingFace Spaces 준비

## 📊 데이터 현황

- **법률 문서**: Assembly 데이터 수집 완료
- **벡터 임베딩**: ko-sroberta-multitask 모델 사용
- **검색 성능**: 평균 응답 시간 < 1초

## 📁 프로젝트 구조

```
LawFirmAI/
├── core/                            # 핵심 비즈니스 로직
│   ├── agents/                      # LangGraph 워크플로우 에이전트
│   │   ├── workflow_service.py      # 워크플로우 서비스 (메인)
│   │   ├── legal_workflow_enhanced.py # 법률 워크플로우
│   │   └── ...
│   ├── services/                    # 비즈니스 서비스
│   │   ├── search/                  # 검색 서비스
│   │   ├── generation/              # 답변 생성
│   │   └── enhancement/             # 품질 개선
│   ├── data/                        # 데이터 레이어
│   │   ├── database.py              # SQLite 데이터베이스
│   │   └── vector_store.py          # FAISS 벡터 스토어
│   └── models/                      # AI 모델
│       ├── model_manager.py         # 모델 관리자
│       └── sentence_bert.py         # Sentence BERT
├── apps/                            # 애플리케이션 레이어
│   ├── streamlit/                   # Streamlit 웹 인터페이스
│   └── api/                         # FastAPI 서버
├── infrastructure/                  # 인프라 및 유틸리티
│   └── utils/                       # 유틸리티 함수
├── source/                          # 레거시 모듈 (호환성 유지)
├── data/                            # 데이터 파일
│   ├── embeddings/                  # 벡터 임베딩
│   ├── raw/                         # 원본 데이터
│   └── processed/                   # 전처리된 데이터
├── scripts/                         # 유틸리티 스크립트
├── tests/                           # 테스트 코드
└── docs/                            # 문서
```

## 🎉 주요 성과

### 시스템 완성도
- ✅ **LangGraph 워크플로우**: State 기반 법률 질문 처리 시스템
- ✅ **하이브리드 검색**: 의미적 검색 + 정확 매칭 통합
- ✅ **지능형 챗봇**: 질문 유형별 최적화된 답변 시스템
- ✅ **통합 프롬프트 관리**: 법률 도메인별 최적화된 프롬프트 시스템
- ✅ **완전한 API**: RESTful API 및 웹 인터페이스
- ✅ **컨테이너화**: Docker 기반 배포 준비 완료

### 기술적 혁신
- ✅ **규칙 기반 파서**: 안정적인 법률 문서 구조 분석
- ✅ **하이브리드 아키텍처**: 다중 검색 방식 통합
- ✅ **확장 가능한 설계**: 모듈화된 서비스 아키텍처
- ✅ **지능형 질문 분류**: 질문 유형 자동 분류 및 최적화
- ✅ **컨텍스트 최적화**: 토큰 제한 내에서 관련성 높은 정보 선별

## 🚀 다음 단계 계획

### 1. 데이터 확장 (우선순위: 높음)
- 추가 판례 데이터 수집 및 처리
- 헌재결정례 데이터 수집 및 임베딩
- 법령해석례 데이터 수집 및 임베딩

### 2. 시스템 고도화 (우선순위: 중간)
- API 성능 최적화
- 법률 용어 사전 확장 및 업데이트
- 질문 유형 분류 정확도 향상

### 3. 기능 확장 (우선순위: 중간)
- 계약서 분석 기능 고도화
- 다국어 지원 (영어, 일본어)
- 개인화된 답변 시스템
