# TASK 3.1 ν›λ ¨ ν™κ²½ κµ¬μ„± μ™„λ£ λ³΄κ³ μ„

## π“‹ κ°μ”

**λ¬Έμ„ λ²„μ „**: v1.0  
**μ‘μ„±μΌ**: 2025-01-25  
**μ‘μ—… λ²”μ„**: TASK 3.1 Day 1 - ν›λ ¨ ν™κ²½ κµ¬μ„±  
**μƒνƒ**: β… **μ™„λ£**

---

## π― μ™„λ£λ μ‘μ—…

### 1. PEFT λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ β…
- **PEFT v0.17.1** μ„¤μΉ μ™„λ£
- **Accelerate v1.10.1** μ„¤μΉ μ™„λ£  
- **BitsAndBytes v0.48.1** μ„¤μΉ μ™„λ£ (QLoRA μ–‘μν™”μ©)
- `requirements.txt` μ—…λ°μ΄νΈ μ™„λ£

### 2. LoRA ν™κ²½ μ„¤μ • λ° κ²€μ¦ β…
- KoGPT-2 λ¨λΈ λ΅λ”© ν…μ¤νΈ μ„±κ³µ
- LoRA μ„¤μ • ν…μ¤νΈ μ„±κ³µ
- **Target modules**: `['lm_head']` (KoGPT-2 νΉν™”)
- **Trainable parameters**: 831,488κ° (μ „μ²΄μ 0.66%)
- **ν™κ²½ κ²€μ‚¬ μ¤ν¬λ¦½νΈ** κµ¬ν„ μ™„λ£

### 3. GPU λ©”λ¨λ¦¬ λ¨λ‹ν„°λ§ λ„κµ¬ β…
- μ‹¤μ‹κ°„ λ©”λ¨λ¦¬ μ‚¬μ©λ‰ λ¨λ‹ν„°λ§
- μ‹μ¤ν… λ©”λ¨λ¦¬ λ° GPU λ©”λ¨λ¦¬ μ¶”μ 
- λ©”λ¨λ¦¬ μ‚¬μ©λ‰ νμ¤ν† λ¦¬ κ΄€λ¦¬
- λ³΄κ³ μ„ μλ™ μƒμ„± κΈ°λ¥

### 4. KoGPT-2 λ¨λΈ κµ¬μ΅° λ¶„μ„ β…
- λ¨λΈ κµ¬μ΅° λ¶„μ„ μ¤ν¬λ¦½νΈ κµ¬ν„
- μµμ μ LoRA target modules μλ™ νƒμ§€
- LoRA μ„¤μ • κ²€μ¦ λ° ν…μ¤νΈ

---

## π“ ν™κ²½ κ²€μ‚¬ κ²°κ³Ό

### μ„¤μΉλ λΌμ΄λΈλ¬λ¦¬
| λΌμ΄λΈλ¬λ¦¬ | λ²„μ „ | μƒνƒ |
|-----------|------|------|
| PyTorch | 2.8.0+cpu | β… |
| Transformers | 4.56.2 | β… |
| PEFT | 0.17.1 | β… |
| Accelerate | 1.10.1 | β… |
| BitsAndBytes | 0.48.1 | β… |

### LoRA μ„¤μ • κ²€μ¦
- **λ¨λΈ**: skt/kogpt2-base-v2
- **Target modules**: ['lm_head']
- **LoRA rank**: 16
- **LoRA alpha**: 32
- **LoRA dropout**: 0.1
- **ν›λ ¨ κ°€λ¥ νλΌλ―Έν„°**: 831,488κ° (0.66%)

### ν…μ¤νΈ κ²°κ³Ό
- β… KoGPT-2 λ¨λΈ λ΅λ”© μ„±κ³µ
- β… ν† ν¬λ‚μ΄μ € λ΅λ”© μ„±κ³µ
- β… κΈ°λ³Έ μ¶”λ΅  ν…μ¤νΈ μ„±κ³µ
- β… LoRA λ¨λΈ μƒμ„± μ„±κ³µ
- β… νλΌλ―Έν„° μ κ³„μ‚° μ„±κ³µ

---

## π› οΈ κµ¬ν„λ λ„κµ¬

### 1. ν™κ²½ κ²€μ‚¬ μ¤ν¬λ¦½νΈ
```bash
python scripts/setup_lora_environment.py --verbose
```
- λ¨λ“  λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ μƒνƒ ν™•μΈ
- KoGPT-2 λ¨λΈ λ΅λ”© ν…μ¤νΈ
- LoRA μ„¤μ • κ²€μ¦
- μƒμ„Έν• λ³΄κ³ μ„ μƒμ„±

### 2. λ¨λΈ κµ¬μ΅° λ¶„μ„ μ¤ν¬λ¦½νΈ
```bash
python scripts/analyze_kogpt2_structure.py --test-lora
```
- KoGPT-2 λ¨λΈ κµ¬μ΅° λ¶„μ„
- μµμ μ LoRA target modules νƒμ§€
- LoRA μ„¤μ • ν…μ¤νΈ λ° κ²€μ¦

### 3. GPU λ©”λ¨λ¦¬ λ¨λ‹ν„°λ§ λ„κµ¬
```bash
python source/utils/gpu_memory_monitor.py --interval 30
```
- μ‹¤μ‹κ°„ λ©”λ¨λ¦¬ μ‚¬μ©λ‰ λ¨λ‹ν„°λ§
- μ‹μ¤ν… λ° GPU λ©”λ¨λ¦¬ μ¶”μ 
- λ©”λ¨λ¦¬ μ‚¬μ©λ‰ νμ¤ν† λ¦¬ κ΄€λ¦¬
- μλ™ λ³΄κ³ μ„ μƒμ„±

---

## π“ μƒμ„±λ νμΌ

### μƒλ΅ μƒμ„±λ νμΌ
- `source/utils/gpu_memory_monitor.py` - GPU λ©”λ¨λ¦¬ λ¨λ‹ν„°λ§ λ„κµ¬
- `scripts/setup_lora_environment.py` - LoRA ν™κ²½ μ„¤μ • λ° κ²€μ¦
- `scripts/analyze_kogpt2_structure.py` - KoGPT-2 λ¨λΈ κµ¬μ΅° λ¶„μ„
- `logs/lora_environment_check.json` - ν™κ²½ κ²€μ‚¬ λ³΄κ³ μ„

### μ—…λ°μ΄νΈλ νμΌ
- `requirements.txt` - PEFT, accelerate, bitsandbytes μ¶”κ°€

---

## π― λ‹¤μ λ‹¨κ³„

### Day 2: λ°μ΄ν„°μ…‹ μ¤€λΉ„ λ° μ „μ²λ¦¬
- [ ] Q&A λ°μ΄ν„°μ…‹μ„ KoGPT-2 μ…λ ¥ ν•μ‹μΌλ΅ λ³€ν™
- [ ] ν”„λ΅¬ν”„νΈ ν…ν”λ¦Ώ μ„¤κ³„ λ° μ μ©
- [ ] ν›λ ¨/κ²€μ¦/ν…μ¤νΈ λ°μ΄ν„°μ…‹ λ¶„ν•  (8:1:1)
- [ ] ν† ν¬λ‚μ΄μ € μ„¤μ • λ° νΉμ ν† ν° μ¶”κ°€

### Day 3: LoRA κΈ°λ° νμΈνλ‹ κµ¬ν„
- [ ] LoRA μ„¤μ • λ° κµ¬ν„
- [ ] ν›λ ¨ ν•μ΄νΌνλΌλ―Έν„° μµμ ν™”
- [ ] λ©”λ¨λ¦¬ ν¨μ¨μ μΈ ν›λ ¨ λ£¨ν”„ κµ¬ν„

### Day 4: λ¨λΈ ν‰κ°€ λ° μµμ ν™”
- [ ] μ„±λ¥ ν‰κ°€ μ‹μ¤ν… κµ¬ν„
- [ ] λ¨λΈ μµμ ν™” λ° λ°°ν¬ μ¤€λΉ„

---

## β… μ™„λ£ κΈ°μ¤€ λ‹¬μ„±

- [x] PyTorch λ° Transformers λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ μ™„λ£
- [x] PEFT λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ μ™„λ£
- [x] LoRA λ° QLoRA κµ¬ν„μ„ μ„ν• μμ΅΄μ„± μ„¤μ • μ™„λ£
- [x] GPU λ©”λ¨λ¦¬ λ¨λ‹ν„°λ§ λ„κµ¬ μ„¤μ • μ™„λ£
- [x] KoGPT-2 λ¨λΈ λ΅λ”© λ° LoRA μ„¤μ • κ²€μ¦ μ™„λ£

---

## π€ μ„±κ³Ό

1. **ν™κ²½ κµ¬μ„± μ™„λ£**: λ¨λ“  ν•„μ”ν• λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ λ° μ„¤μ • μ™„λ£
2. **LoRA κ²€μ¦ μ™„λ£**: KoGPT-2μ—μ„ LoRA νμΈνλ‹ κ°€λ¥ ν™•μΈ
3. **λ¨λ‹ν„°λ§ λ„κµ¬**: μ‹¤μ‹κ°„ λ©”λ¨λ¦¬ μ‚¬μ©λ‰ μ¶”μ  κ°€λ¥
4. **μλ™ν™” λ„κµ¬**: ν™κ²½ κ²€μ‚¬ λ° λ¨λΈ λ¶„μ„ μλ™ν™”
5. **λ¬Έμ„ν™”**: μƒμ„Έν• ν™κ²½ κµ¬μ„± κ°€μ΄λ“ λ° λ³΄κ³ μ„ μ‘μ„±

**TASK 3.1 Day 1 ν›λ ¨ ν™κ²½ κµ¬μ„±μ΄ μ„±κ³µμ μΌλ΅ μ™„λ£λμ—μµλ‹λ‹¤!** π‰
