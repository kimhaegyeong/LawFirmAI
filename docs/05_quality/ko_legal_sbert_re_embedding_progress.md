# Ko-Legal-SBERT ì¬ì„ë² ë”© ì§„í–‰ ìƒí™©

## ì§„í–‰ ìƒí™© ìš”ì•½

### âœ… ì™„ë£Œëœ ì‘ì—…

1. **ì¬ì„ë² ë”© ê³„íš ë¬¸ì„œ ì‘ì„±** âœ…
   - ë¬¸ì„œ ìœ„ì¹˜: `docs/05_quality/ko_legal_sbert_re_embedding_plan.md`
   - ìƒì„¸ ê³„íš ë° ë‹¨ê³„ë³„ ê°€ì´ë“œ í¬í•¨

2. **ì¬ì„ë² ë”© ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì •** âœ…
   - `scripts/migrations/re_embed_existing_data.py`: í™˜ê²½ ë³€ìˆ˜ `EMBEDDING_MODEL` ì§€ì› ì¶”ê°€
   - `scripts/migrations/re_embed_existing_data_optimized.py`: í™˜ê²½ ë³€ìˆ˜ `EMBEDDING_MODEL` ì§€ì› ì¶”ê°€
   - ë²„ì „ ê´€ë¦¬ ê°œì„ : ëª¨ë¸ëª…ì„ í¬í•¨í•œ ê³ ìœ  ë²„ì „ëª… ìƒì„±

3. **ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…** âœ…
   - ë°±ì—… íŒŒì¼: `data/lawfirm_v2.db.backup_20251118_084315`
   - í¬ê¸°: 1,086.12 MB

4. **í˜„ì¬ ì„ë² ë”© ìƒíƒœ í™•ì¸** âœ…
   - ì´ ì²­í¬ ìˆ˜: 66,176ê°œ
   - í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ëª¨ë¸:
     - `jhgan/ko-sroberta-multitask`: 33,593ê°œ
     - `snunlp/KR-SBERT-V40K-klueNLI-augSTS`: 32,583ê°œ

5. **ëª¨ë¸ í™•ì¸ ë° í…ŒìŠ¤íŠ¸** âœ…
   - ì •í™•í•œ ëª¨ë¸ëª… í™•ì¸: `woong0322/ko-legal-sbert-finetuned`
   - ëª¨ë¸ ë¡œë”© í…ŒìŠ¤íŠ¸ ì„±ê³µ
   - ì°¨ì›: 768ì°¨ì›
   - ë²¡í„° shape: (1, 768)

6. **Phase 1: ì†Œê·œëª¨ ì¬ì„ë² ë”© í…ŒìŠ¤íŠ¸** âœ…
   - í…ŒìŠ¤íŠ¸ ë¬¸ì„œ ìˆ˜: 10ê°œ (statute_article)
   - ì¬ì„ë² ë”© ì™„ë£Œ: 10ê°œ ì²­í¬
   - ìƒˆ ë²„ì „ ìƒì„±: `v2.0.0-standard-ko_legal_sbert_finet` (ID: 6)
   - ì²˜ë¦¬ ì†ë„: ì•½ 5-6 ë¬¸ì„œ/ì´ˆ

### ğŸ”„ ì§„í–‰ ì¤‘ì¸ ì‘ì—…

ì—†ìŒ

### â³ ëŒ€ê¸° ì¤‘ì¸ ì‘ì—…

1. **Phase 2: ë‹¨ê³„ë³„ ì¬ì„ë² ë”©**
   - âœ… statute_article ì „ì²´ ì¬ì„ë² ë”© (ì™„ë£Œ: 1,631ê°œ ì²­í¬)
   - â³ case_paragraph ì¬ì„ë² ë”© (ì˜ˆìƒ: 44,875ê°œ ë¬¸ì„œ, 57,272ê°œ ì²­í¬)
   - â³ decision_paragraph ì¬ì„ë² ë”©
   - â³ interpretation_paragraph ì¬ì„ë² ë”©

2. **ê²€ì¦ ë° í…ŒìŠ¤íŠ¸**
   - ì¬ì„ë² ë”© ê²°ê³¼ ê²€ì¦
   - ê²€ìƒ‰ í’ˆì§ˆ í…ŒìŠ¤íŠ¸
   - ì„±ëŠ¥ ë¹„êµ ë¦¬í¬íŠ¸ ìƒì„±

## í…ŒìŠ¤íŠ¸ ê²°ê³¼

### Phase 1 ì†Œê·œëª¨ í…ŒìŠ¤íŠ¸ ê²°ê³¼

- **ëª¨ë¸**: `woong0322/ko-legal-sbert-finetuned`
- **í…ŒìŠ¤íŠ¸ ë¬¸ì„œ**: 10ê°œ (statute_article)
- **ì¬ì„ë² ë”© ì²­í¬**: 10ê°œ
- **ì²˜ë¦¬ ì‹œê°„**: ì•½ 2ì´ˆ
- **ì²˜ë¦¬ ì†ë„**: ì•½ 5-6 ë¬¸ì„œ/ì´ˆ
- **ë²„ì „**: `v2.0.0-standard-ko_legal_sbert_finet` (ID: 6)

### Phase 2 ì¬ì„ë² ë”© ê²°ê³¼

#### 1. statute_article ì¬ì„ë² ë”© (ì™„ë£Œ)

- **ì²˜ë¦¬ ë¬¸ì„œ**: 1,629ê°œ (475ê°œ ë¬¸ì„œ ê±´ë„ˆëœ€ - ì´ë¯¸ ì¬ì„ë² ë”©ë¨)
- **ì¬ì„ë² ë”© ì²­í¬**: 1,631ê°œ
- **ì‚­ì œëœ ì²­í¬**: 1,642ê°œ
- **ì²˜ë¦¬ ì‹œê°„**: ì•½ 5ë¶„ 23ì´ˆ
- **ì²˜ë¦¬ ì†ë„**: ì•½ 5-6 ë¬¸ì„œ/ì´ˆ
- **ë²„ì „**: `v2.0.0-standard-ko_legal_sbert_finet` (ID: 6)

#### 2. case_paragraph ì¬ì„ë² ë”© (ëŒ€ê¸° ì¤‘)

- **ì˜ˆìƒ ë¬¸ì„œ ìˆ˜**: 44,875ê°œ
- **ì˜ˆìƒ ì²­í¬ ìˆ˜**: 57,272ê°œ
- **ì˜ˆìƒ ì†Œìš” ì‹œê°„**: ì•½ 2-4ì‹œê°„ (CPU ì‚¬ìš© ì‹œ)
- **ìƒíƒœ**: ëŒ€ê¸° ì¤‘

## ë‹¤ìŒ ë‹¨ê³„

### 1. Phase 2: ë‹¨ê³„ë³„ ì¬ì„ë² ë”© ê³„ì†

```bash
# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
$env:EMBEDDING_MODEL="woong0322/ko-legal-sbert-finetuned"

# case_paragraph ì¬ì„ë² ë”©
python scripts/migrations/re_embed_existing_data_optimized.py \
    --db data/lawfirm_v2.db \
    --source-type case_paragraph \
    --chunking-strategy standard \
    --doc-batch-size 200 \
    --commit-interval 5
```

### 2. ê²€ì¦ ë° í…ŒìŠ¤íŠ¸

ì¬ì„ë² ë”© ì™„ë£Œ í›„:
- ì¬ì„ë² ë”© ê²°ê³¼ í™•ì¸
- ê²€ìƒ‰ í’ˆì§ˆ í…ŒìŠ¤íŠ¸
- ì„±ëŠ¥ ë¹„êµ ë¦¬í¬íŠ¸ ìƒì„±

## ì°¸ê³  ìë£Œ

- [ì¬ì„ë² ë”© ê³„íš ë¬¸ì„œ](./ko_legal_sbert_re_embedding_plan.md) (ëª¨ë¸ ì„¤ì • ê°€ì´ë“œ í¬í•¨)
- [ì„ë² ë”© ìƒíƒœ í™•ì¸ ìŠ¤í¬ë¦½íŠ¸](../../scripts/tools/check_embedding_status.py)

