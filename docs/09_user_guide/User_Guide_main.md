# LawFirmAI 사용자 가이드

## 시작하기

LawFirmAI에 오신 것을 환영합니다! 이 가이드는 LawFirmAI의 모든 기능을 효과적으로 사용하는 방법을 안내합니다.

## 목차

1. [시작하기](#시작하기)
2. [Streamlit UI 개요](#streamlit-ui-개요)
3. [7개 탭 사용법](#7개-탭-사용법)
4. [Phase 1-3 기능 활용](#phase-1-3-기능-활용)
5. [고급 기능](#고급-기능)
6. [문제 해결](#문제-해결)
7. [팁과 요령](#팁과-요령)

## 시작하기

### 첫 번째 질문

LawFirmAI는 간단한 질문부터 시작할 수 있습니다:

```
민법 제750조에 대해 설명해주세요
```

### 사용자 ID 설정

더 나은 개인화된 경험을 위해 사용자 ID를 설정하세요:

1. **👤 사용자 프로필** 탭으로 이동
2. **사용자 ID** 필드에 고유한 ID 입력
3. **프로필 저장** 버튼 클릭

## Streamlit UI 개요

LawFirmAI는 Streamlit 기반의 현대적 웹 인터페이스를 제공합니다:

### 주요 기능
1. **💬 채팅 인터페이스**: 법률 질문에 대한 AI 답변
2. **📊 대화 이력**: 이전 대화 내용 저장 및 관리
3. **⚡ 빠른 질문**: 자주 묻는 질문 템플릿 제공
4. **📈 성능 모니터링**: 메모리 사용량 및 응답 시간 표시
5. **🔧 설정 관리**: 환경 변수 및 시스템 설정

## Streamlit 인터페이스 사용법

### 1. 💬 채팅 인터페이스

#### 메시지 입력
- 텍스트 상자에 질문을 입력하고 **Enter** 키를 누르거나 **전송** 버튼을 클릭하세요
- 최대 10,000자까지 입력 가능합니다

#### 응답 확인
- AI의 응답이 채팅 창에 표시됩니다
- **신뢰도** 정보가 우측 패널에 표시됩니다
- **출처** 정보를 통해 법령 조문이나 판례를 확인할 수 있습니다
- **처리 시간**과 **캐시 상태**가 실시간으로 표시됩니다

#### 실시간 정보 표시
- **신뢰도**: 응답의 신뢰도 점수 (0.0-1.0)
- **처리 시간**: 실제 응답 생성 시간
- **캐시 상태**: 캐시 히트 여부
- **메모리 사용량**: 실시간 메모리 사용량
- **Phase 정보**: 각 Phase별 처리 결과

### 2. 👤 사용자 프로필 탭

#### 프로필 설정
- **사용자 ID**: 고유한 사용자 식별자
- **전문성 수준**: 초보자/중급자/전문가 선택
- **관심 분야**: 민법, 형법, 상법 등 선택
- **답변 스타일**: 격식체/친근체, 간결함/상세함 선택

#### 개인화 효과
- **초보자**: 간단하고 이해하기 쉬운 설명
- **전문가**: 상세하고 기술적인 분석
- **관심 분야**: 해당 분야 우선 표시
- **답변 스타일**: 선호하는 톤으로 응답

### 3. 🧠 지능형 분석 탭

#### 감정 분석 결과
- **감정 상태**: 긴급/불안/화남/만족 등
- **의도 분석**: 질문/요청/불만/감사 등
- **긴급도 평가**: 높음/보통/낮음
- **응답 톤**: 공감적/전문적/간결함 등

#### 대화 흐름 분석
- **다음 의도 예측**: 예상되는 후속 질문
- **대화 패턴**: 질문 유형별 패턴 분석
- **후속 질문 제안**: 맥락에 맞는 질문 제안

### 4. 📊 대화 이력 탭

#### 세션 목록
- **활성 세션**: 현재 진행 중인 대화
- **완료된 세션**: 이전 대화 기록
- **세션 검색**: 키워드, 날짜, 엔티티 기반 검색

#### 세션 상세 정보
- **대화 내용**: 전체 대화 기록
- **세션 메타데이터**: 시작/종료 시간, 메시지 수
- **품질 지표**: 완결성, 만족도, 정확성 점수
- **세션 복원**: 이전 세션으로 돌아가기

### 5. 🧠 장기 기억 탭

#### 메모리 검색
- **키워드 검색**: 저장된 메모리 검색
- **날짜별 검색**: 특정 기간의 메모리 조회
- **중요도별 검색**: 중요도 점수별 정렬

#### 메모리 관리
- **자동 저장**: 중요한 사실 자동 추출 및 저장
- **수동 추가**: 사용자가 직접 메모리 추가
- **메모리 편집**: 기존 메모리 수정/삭제
- **메모리 통합**: 관련 메모리 자동 통합

### 6. 📊 품질 모니터링 탭

#### 실시간 품질 평가
- **완결성**: 응답의 완성도 점수
- **만족도**: 사용자 만족도 예측
- **정확성**: 정보의 정확성 평가
- **전체 품질**: 종합 품질 점수

#### 품질 트렌드 분석
- **시간별 트렌드**: 품질 변화 추이
- **문제점 감지**: 품질 저하 자동 감지
- **개선 제안**: 품질 향상 방안 제시
- **성능 리포트**: 상세한 성능 분석

### 7. ⚙️ 고급 설정 탭

#### 성능 모니터링
- **메모리 사용량**: 실시간 메모리 모니터링
- **CPU 사용률**: 시스템 리소스 사용량
- **응답 시간**: 평균/최대 응답 시간
- **캐시 성능**: 캐시 히트율 및 효율성

#### 시스템 상태
- **모델 상태**: AI 모델 로딩 상태
- **데이터베이스**: DB 연결 상태
- **벡터 스토어**: 벡터 인덱스 상태
- **서비스 상태**: 각 서비스 동작 상태

#### 최적화 설정
- **캐시 크기**: 캐시 메모리 크기 조정
- **토큰 제한**: 컨텍스트 토큰 제한 설정
- **응답 모드**: 빠른/정확한/균형 모드 선택
- **로깅 레벨**: 디버그/정보/경고/오류 레벨 설정

## Phase 1-3 기능 활용

### Phase 1: 대화 맥락 강화

#### 다중 턴 질문 처리
LawFirmAI는 대화의 맥락을 이해하여 불완전한 질문을 처리할 수 있습니다:

```
사용자: 민법 제750조에 대해 설명해주세요
AI: 민법 제750조는 불법행위로 인한 손해배상 책임을 규정합니다...

사용자: 그럼 손해배상 청구 절차는 어떻게 되나요?
AI: 손해배상 청구 절차는 다음과 같습니다...
```

#### 컨텍스트 압축
- 자동으로 중요한 정보를 추출하여 보관
- 토큰 제한 문제를 해결
- 대화의 연속성 유지

#### 영구적 세션 저장
- 대화 기록을 데이터베이스에 저장
- 세션 복원 및 이어하기
- 세션 검색 및 관리

### Phase 2: 개인화 및 지능형 분석

#### 사용자 프로필 기반 개인화
- **전문성 수준**: 초보자/중급자/전문가에 따른 맞춤형 응답
- **관심 분야**: 민법, 형법, 상법 등 선호 분야 우선 표시
- **답변 스타일**: 격식체/친근체, 간결함/상세함 선택

#### 감정 및 의도 분석
- **감정 상태**: 긴급/불안/화남/만족 등 감정 인식
- **의도 분석**: 질문/요청/불만/감사 등 의도 파악
- **응답 톤**: 공감적/전문적/간결함 등 적절한 톤 선택

#### 대화 흐름 추적
- **다음 의도 예측**: 예상되는 후속 질문
- **대화 패턴**: 질문 유형별 패턴 학습
- **후속 질문 제안**: 맥락에 맞는 질문 자동 제안

### Phase 3: 장기 기억 및 품질 모니터링

#### 맥락적 메모리 관리
- **중요 사실 자동 추출**: 중요한 정보를 장기 기억으로 저장
- **메모리 중요도 점수화**: 중요도에 따른 메모리 관리
- **관련 메모리 검색**: 맥락에 맞는 메모리 자동 검색
- **메모리 갱신 및 통합**: 새로운 정보로 기존 메모리 업데이트

#### 대화 품질 모니터링
- **실시간 품질 평가**: 완결성, 만족도, 정확성 점수
- **문제점 자동 감지**: 품질 저하 자동 감지
- **개선 제안 생성**: 품질 향상을 위한 구체적 제안
- **품질 트렌드 분석**: 시간별 품질 변화 추이 분석

## 고급 기능

### 질문 유형별 활용

#### 1. 법령 조문 문의
```
민법 제750조의 내용을 알려주세요
```

#### 2. 판례 검색
```
손해배상 관련 최근 판례를 찾아주세요
```

#### 3. 절차 문의
```
소송 제기 절차는 어떻게 되나요?
```

#### 4. 계약서 검토
```
이 계약서의 문제점을 찾아주세요
```

### 성능 최적화 기능

#### 캐시 시스템
- **캐시 히트율**: 75% 이상으로 응답 시간 90% 단축
- **지능형 캐싱**: LRU 기반 캐시 관리
- **캐시 상태 모니터링**: 실시간 캐시 효율성 확인

#### 메모리 관리
- **자동 가비지 컬렉션**: 메모리 사용량 모니터링 및 자동 정리
- **메모리 누수 방지**: 실시간 메모리 사용량 추적 및 경고
- **최적화된 모델 로딩**: 지연 로딩 및 메모리 효율성

### 실시간 모니터링

#### 성능 지표
- **응답 시간**: 평균/최대 응답 시간 추적
- **메모리 사용량**: 실시간 메모리 사용량 모니터링
- **CPU 사용률**: 시스템 리소스 사용량 확인
- **캐시 성능**: 캐시 히트율 및 효율성 분석

#### 시스템 상태
- **모델 상태**: AI 모델 로딩 및 동작 상태
- **데이터베이스**: DB 연결 및 쿼리 성능
- **벡터 스토어**: 벡터 인덱스 상태 및 검색 성능
- **서비스 상태**: 각 Phase 서비스 동작 상태

## 문제 해결

### 일반적인 문제

#### 1. 응답이 느린 경우
- **⚙️ 고급 설정** 탭에서 **응답 모드**를 **빠른** 모드로 변경
- **캐시 상태** 확인 (캐시 히트율이 낮으면 시스템 재시작)
- **메모리 사용량** 확인 (메모리 부족 시 브라우저 새로고침)

#### 2. 개인화가 작동하지 않는 경우
- **👤 사용자 프로필** 탭에서 프로필이 올바르게 저장되었는지 확인
- **사용자 ID**가 설정되어 있는지 확인
- 브라우저 캐시 삭제 후 재시작

#### 3. 세션이 저장되지 않는 경우
- **📊 대화 이력** 탭에서 세션 목록 확인
- **⚙️ 고급 설정** 탭에서 **데이터베이스** 상태 확인
- 브라우저 새로고침 후 다시 시도

#### 4. 품질 점수가 낮은 경우
- **📊 품질 모니터링** 탭에서 **개선 제안** 확인
- 질문을 더 구체적으로 작성
- **⚙️ 고급 설정** 탭에서 **응답 모드**를 **정확한** 모드로 변경

### 성능 최적화 팁

#### 1. 캐시 활용
- 자주 묻는 질문은 캐시를 활용하여 빠른 응답
- **⚙️ 고급 설정** 탭에서 **캐시 크기** 조정 가능

#### 2. 메모리 관리
- **⚙️ 고급 설정** 탭에서 **메모리 사용량** 모니터링
- 메모리 사용량이 높으면 브라우저 새로고침

#### 3. 토큰 최적화
- 긴 질문보다는 구체적이고 간결한 질문 사용
- **⚙️ 고급 설정** 탭에서 **토큰 제한** 조정 가능

## 팁과 요령

### 효과적인 질문 방법

#### 1. 구체적인 질문
```
❌ 나쁜 예: 법에 대해 알려주세요
✅ 좋은 예: 민법 제750조 불법행위 손해배상에 대해 설명해주세요
```

#### 2. 맥락 제공
```
❌ 나쁜 예: 이게 맞나요?
✅ 좋은 예: 계약서에서 손해배상 조항이 과도한 것 같은데, 이게 맞나요?
```

#### 3. 단계별 질문
```
1단계: 민법 제750조에 대해 설명해주세요
2단계: 손해배상 청구 요건은 무엇인가요?
3단계: 손해배상 청구 절차는 어떻게 되나요?
```

### 개인화 활용

#### 1. 전문성 수준 활용
- **초보자**: 기본 개념부터 차근차근 설명
- **전문가**: 상세한 법리와 판례 분석 제공

#### 2. 관심 분야 설정
- 자주 묻는 법률 분야를 관심 분야로 설정
- 해당 분야의 정보가 우선적으로 표시

#### 3. 답변 스타일 조정
- **격식체**: 공식적인 법률 문서 스타일
- **친근체**: 이해하기 쉬운 설명 스타일

### 고급 활용법

#### 1. 장기 기억 활용
- 중요한 정보는 **🧠 장기 기억** 탭에서 확인
- 관련 정보를 자동으로 연결하여 제공

#### 2. 품질 모니터링 활용
- **📊 품질 모니터링** 탭에서 응답 품질 확인
- 개선 제안을 참고하여 더 나은 질문 작성

#### 3. 대화 이력 활용
- **📊 대화 이력** 탭에서 이전 대화 검색
- 관련 세션을 복원하여 이어서 대화

### 최적의 사용 환경

#### 1. 브라우저 권장사항
- **Chrome**: 최적의 성능과 호환성
- **Firefox**: 안정적인 동작
- **Safari**: macOS에서 최적화

#### 2. 네트워크 환경
- 안정적인 인터넷 연결 권장
- 모바일 데이터 사용 시 데이터 사용량 주의

#### 3. 시스템 요구사항
- 최신 브라우저 사용 권장
- JavaScript 활성화 필요
- 쿠키 허용 필요 (세션 저장용)

---

**LawFirmAI와 함께 더 나은 법률 서비스를 경험해보세요!** ⚖️✨
- **고급**: 전문적인 분석과 심화된 내용
- **전문가**: 최신 판례와 법리적 분석

### 관심 분야 설정

관심 있는 법률 분야를 선택하세요:

- 민법 (계약, 불법행위, 상속 등)
- 형법 (범죄, 형벌, 절차 등)
- 상법 (회사법, 어음수표법 등)
- 근로기준법 (근로계약, 임금, 해고 등)
- 부동산 (매매, 임대, 등기 등)
- 금융 (대출, 투자, 보험 등)
- 지적재산권 (특허, 상표, 저작권 등)
- 세법 (소득세, 법인세, 부가가치세 등)
- 환경법 (환경보호, 오염방지 등)
- 의료법 (의료사고, 의료윤리 등)

### 답변 상세도 설정

원하는 답변의 상세도를 선택하세요:

- **간단**: 핵심 내용만 간결하게
- **보통**: 기본 설명과 주요 포인트
- **상세**: 포괄적인 설명과 예시, 판례 포함

## 대화 이력 관리

### 세션 목록 조회

**대화 이력** 탭에서 이전 대화를 확인할 수 있습니다:

- 세션 ID, 생성일, 마지막 업데이트 시간
- 대화 턴 수와 주요 주제
- **세션 불러오기** 버튼으로 이전 대화 재개

### 세션 상세 정보

특정 세션을 선택하면 상세 정보를 볼 수 있습니다:

- 전체 대화 내용
- 추출된 법률 엔티티
- 대화 주제 스택
- 품질 평가 결과

### 세션 백업 및 복원

중요한 대화는 백업할 수 있습니다:

1. 세션을 선택
2. **백업** 버튼 클릭
3. 백업 파일이 로컬에 저장됩니다

## 품질 모니터링

### 품질 평가 확인

**품질 모니터링** 탭에서 대화 품질을 확인할 수 있습니다:

- **전체 점수**: 종합적인 품질 평가
- **완결성 점수**: 답변의 완전성
- **만족도 점수**: 사용자 만족도
- **정확성 점수**: 법률적 정확성

### 품질 트렌드 분석

시간에 따른 품질 변화를 확인하세요:

- 일별/주별 품질 트렌드
- 개선 제안사항
- 주요 인사이트

### 문제점 감지

자동으로 감지되는 문제점들:

- **불완전한 응답**: 더 자세한 설명 필요
- **불명확한 응답**: 이해하기 어려운 내용
- **부정확한 응답**: 법률적 오류 포함
- **느린 응답**: 처리 시간 지연

## 문제 해결

### 자주 묻는 질문

#### Q: 응답이 너무 느려요
A: 다음을 확인해보세요:
- 인터넷 연결 상태
- 질문의 복잡도
- 서버 상태 (시스템 상태 탭 확인)

#### Q: 원하는 답변을 얻지 못해요
A: 다음을 시도해보세요:
- 질문을 더 구체적으로 작성
- 전문성 수준을 조정
- 관심 분야를 설정

#### Q: 이전 대화를 잃어버렸어요
A: 다음을 확인해보세요:
- 세션 ID가 올바른지 확인
- 대화 이력 탭에서 세션 목록 확인
- 백업 파일이 있는지 확인

### 에러 메시지 해결

#### "잘못된 입력입니다"
- 질문이 너무 짧거나 긴지 확인
- 특수 문자나 이모지 제거
- 명확한 질문으로 재작성

#### "세션을 찾을 수 없습니다"
- 세션 ID가 올바른지 확인
- 세션이 만료되었는지 확인
- 새 세션을 시작하세요

#### "메모리 부족"
- 브라우저를 새로고침하세요
- 다른 탭을 닫으세요
- 잠시 후 다시 시도하세요

## 팁과 요령

### 효과적인 질문 작성

#### 1. 구체적으로 질문하세요
```
❌ 나쁜 예: 법이 뭐예요?
✅ 좋은 예: 민법 제750조의 불법행위 책임 요건은 무엇인가요?
```

#### 2. 상황을 설명하세요
```
❌ 나쁜 예: 계약서 문제가 있어요
✅ 좋은 예: 임대차계약서에서 보증금 반환 조건이 불명확한데, 어떻게 해야 하나요?
```

#### 3. 구체적인 조문을 언급하세요
```
❌ 나쁜 예: 상속 문제가 있어요
✅ 좋은 예: 민법 제1000조에 따른 상속분은 어떻게 계산하나요?
```

### 대화 효율성 향상

#### 1. 연속 질문 활용
- 이전 답변을 바탕으로 추가 질문
- "그럼", "또한", "추가로" 등의 연결어 사용

#### 2. 전문성 수준 조정
- 초보자: 기본 개념부터 차근차근
- 전문가: 최신 판례와 법리적 분석

#### 3. 관심 분야 설정
- 자주 묻는 분야를 관심 분야로 설정
- 관련된 추가 정보 자동 제공

### 고급 기능 활용

#### 1. 메모리 검색
- 이전에 논의한 내용을 빠르게 찾기
- 관련 법령이나 판례 재확인

#### 2. 품질 모니터링
- 대화 품질을 정기적으로 확인
- 개선 제안사항을 참고하여 질문 방식 조정

#### 3. 성능 최적화
- 캐시 기능으로 빠른 응답
- 메모리 관리로 안정적인 서비스
