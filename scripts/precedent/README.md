# íŒë¡€ ìˆ˜ì§‘ ëª¨ë“ˆ

ì´ ë””ë ‰í† ë¦¬ëŠ” LawFirmAI í”„ë¡œì íŠ¸ì˜ íŒë¡€ ìˆ˜ì§‘ ê´€ë ¨ ëª¨ë“ˆë“¤ì„ í¬í•¨í•©ë‹ˆë‹¤.

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
scripts/precedent/
â”œâ”€â”€ README.md                           # ì´ íŒŒì¼
â”œâ”€â”€ collect_by_date.py                  # ë‚ ì§œ ê¸°ë°˜ íŒë¡€ ìˆ˜ì§‘ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ (NEW)
â”œâ”€â”€ collect_precedents.py               # ê¸°ì¡´ íŒë¡€ ìˆ˜ì§‘ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ date_based_collector.py             # ë‚ ì§œ ê¸°ë°˜ íŒë¡€ ìˆ˜ì§‘ í´ë˜ìŠ¤ (NEW)
â”œâ”€â”€ precedent_collector.py              # ê¸°ì¡´ íŒë¡€ ìˆ˜ì§‘ í´ë˜ìŠ¤
â”œâ”€â”€ precedent_models.py                 # íŒë¡€ ë°ì´í„° ëª¨ë¸ ì •ì˜
â”œâ”€â”€ precedent_logger.py                 # ë¡œê¹… ì„¤ì •
â””â”€â”€ run_precedent_collection.py         # íŒë¡€ ìˆ˜ì§‘ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
```

## ğŸš€ ì‚¬ìš©ë²•

### 1. ë‚ ì§œ ê¸°ë°˜ íŒë¡€ ìˆ˜ì§‘ (NEW)

ë‚ ì§œë³„ë¡œ ì²´ê³„ì ì¸ íŒë¡€ ìˆ˜ì§‘ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ê° ìˆ˜ì§‘ ì‹¤í–‰ë§ˆë‹¤ ë³„ë„ì˜ í´ë”ì— raw ë°ì´í„°ë¥¼ ì €ì¥í•˜ë©°, **API ìš”ì²­ë§ˆë‹¤ ì¦‰ì‹œ íŒŒì¼ì„ ìƒì„±**í•˜ì—¬ ë°ì´í„° ì†ì‹¤ì„ ë°©ì§€í•©ë‹ˆë‹¤.

#### ì£¼ìš” ê°œì„ ì‚¬í•­ (NEW)
- âœ… **í˜ì´ì§€ë³„ ì¦‰ì‹œ ì €ì¥**: API ìš”ì²­ë§ˆë‹¤ ì¦‰ì‹œ íŒŒì¼ ìƒì„±
- âœ… **íŒë¡€ì¼ë ¨ë²ˆí˜¸ ê¸°ì¤€ íŒŒì¼ëª…**: íŒŒì¼ëª…ì— íŒë¡€ì¼ë ¨ë²ˆí˜¸ ë²”ìœ„ í¬í•¨
- âœ… **ì‹¤ì‹œê°„ ì§„í–‰ìƒí™©**: í˜ì´ì§€ë³„ ìƒì„¸ ë¡œê·¸ì™€ í†µê³„ ì •ë³´
- âœ… **ì˜¤ë¥˜ ë³µêµ¬**: ì¤‘ê°„ ì˜¤ë¥˜ ë°œìƒ ì‹œì—ë„ ë°ì´í„° ìë™ ì €ì¥

#### íŒŒì¼ëª… ì˜ˆì‹œ (NEW)
```
page_001_ë¯¼ì‚¬-ê³„ì•½ì†í•´_123456-123789_150ê±´_20250125_143045.json
page_002_í˜•ì‚¬_123790-124200_200ê±´_20250125_143100.json
page_003_í–‰ì •_124201-124500_180ê±´_20250125_143200.json
```

#### ê¸°ë³¸ ì‚¬ìš©ë²•

##### **íŠ¹ì • ì—°ë„ ìˆ˜ì§‘ (NEW)**
```bash
# 2024ë…„ íŒë¡€ë§Œ ìˆ˜ì§‘
python scripts/precedent/collect_by_date.py --strategy yearly --year 2024 --unlimited

# 2023ë…„ íŒë¡€ë§Œ ìˆ˜ì§‘
python scripts/precedent/collect_by_date.py --strategy yearly --year 2023 --unlimited

# 2022ë…„ íŒë¡€ë§Œ ìˆ˜ì§‘
python scripts/precedent/collect_by_date.py --strategy yearly --year 2022 --unlimited
```

##### **ê¸°ê°„ë³„ ìˆ˜ì§‘**
```bash
# ì—°ë„ë³„ ìˆ˜ì§‘ (ìµœê·¼ 5ë…„, ì—°ê°„ 2000ê±´)
python scripts/precedent/collect_by_date.py --strategy yearly --target 10000

# ë¶„ê¸°ë³„ ìˆ˜ì§‘ (ìµœê·¼ 2ë…„, ë¶„ê¸°ë‹¹ 500ê±´)
python scripts/precedent/collect_by_date.py --strategy quarterly --target 4000

# ì›”ë³„ ìˆ˜ì§‘ (ìµœê·¼ 1ë…„, ì›”ê°„ 200ê±´)
python scripts/precedent/collect_by_date.py --strategy monthly --target 2400

# ì£¼ë³„ ìˆ˜ì§‘ (ìµœê·¼ 3ê°œì›”, ì£¼ê°„ 100ê±´)
python scripts/precedent/collect_by_date.py --strategy weekly --target 1200

# ëª¨ë“  ì „ëµ ìˆœì°¨ ì‹¤í–‰ (ì´ 17,600ê±´)
python scripts/precedent/collect_by_date.py --strategy all --target 20000
```

#### ê³ ê¸‰ ì˜µì…˜

##### **íŠ¹ì • ì—°ë„ ê³ ê¸‰ ì˜µì…˜**
```bash
# íŠ¹ì • ì—°ë„ + ê±´ìˆ˜ ì œí•œ
python scripts/precedent/collect_by_date.py --strategy yearly --year 2024 --target 5000

# íŠ¹ì • ì—°ë„ + ì¶œë ¥ ë””ë ‰í† ë¦¬ ì§€ì •
python scripts/precedent/collect_by_date.py --strategy yearly --year 2024 --unlimited --output data/custom/precedents

# íŠ¹ì • ì—°ë„ + ë“œë¼ì´ëŸ° ëª¨ë“œ
python scripts/precedent/collect_by_date.py --strategy yearly --year 2024 --unlimited --dry-run
```

##### **ê¸°ê°„ë³„ ê³ ê¸‰ ì˜µì…˜**
```bash
# íŠ¹ì • ê¸°ê°„ ìˆ˜ ìˆ˜ì§‘
python scripts/precedent/collect_by_date.py --strategy yearly --target 5000 --count 3

# ì¶œë ¥ ë””ë ‰í† ë¦¬ ì§€ì •
python scripts/precedent/collect_by_date.py --strategy monthly --target 1000 --output data/custom/precedents

# ë“œë¼ì´ëŸ° ëª¨ë“œ (ì‹¤ì œ ìˆ˜ì§‘ ì—†ì´ ê³„íšë§Œ ì¶œë ¥)
python scripts/precedent/collect_by_date.py --strategy all --target 10000 --dry-run

# ì¬ì‹œì‘ ëª¨ë“œ (ì¤‘ë‹¨ëœ ì§€ì ë¶€í„° ì¬ì‹œì‘)
python scripts/precedent/collect_by_date.py --strategy yearly --target 5000 --resume
```

### 2. ê¸°ì¡´ í‚¤ì›Œë“œ ê¸°ë°˜ íŒë¡€ ìˆ˜ì§‘

í‚¤ì›Œë“œ ê¸°ë°˜ìœ¼ë¡œ íŒë¡€ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.

```bash
# ê¸°ë³¸ íŒë¡€ ìˆ˜ì§‘ (ëª©í‘œ 5000ê±´)
python scripts/precedent/collect_precedents.py

# ëª©í‘œ ê±´ìˆ˜ ì§€ì •
python scripts/precedent/collect_precedents.py --target 10000

# ì¶œë ¥ ë””ë ‰í† ë¦¬ ì§€ì •
python scripts/precedent/collect_precedents.py --output data/custom/precedents
```

## ğŸ“Š ìˆ˜ì§‘ ì „ëµ ë¹„êµ

| ì „ëµ | ê¸°ê°„ | ëª©í‘œ/ê¸°ê°„ | ì´ ëª©í‘œ | ì˜ˆìƒ ì‹¤ì œ | í´ë” ìˆ˜ | íŠ¹ì§• |
|------|------|-----------|---------|-----------|---------|------|
| **ì—°ë„ë³„** | 5ë…„ | 2,000ê±´/ë…„ | 10,000ê±´ | 8,000-12,000ê±´ | 5ê°œ | ìµœì‹  íŒë¡€ ìš°ì„  |
| **ë¶„ê¸°ë³„** | 2ë…„ | 500ê±´/ë¶„ê¸° | 4,000ê±´ | 3,000-5,000ê±´ | 8ê°œ | ë¶„ê¸°ë³„ ì§‘ì¤‘ ìˆ˜ì§‘ |
| **ì›”ë³„** | 1ë…„ | 200ê±´/ì›” | 2,400ê±´ | 2,000-3,000ê±´ | 12ê°œ | ì›”ë³„ ì„¸ë¶„í™” |
| **ì£¼ë³„** | 3ê°œì›” | 100ê±´/ì£¼ | 1,200ê±´ | 800-1,500ê±´ | 12ê°œ | ìµœì‹  ì£¼ê°„ íŒë¡€ |
| **í‚¤ì›Œë“œ** | - | - | 5,000ê±´ | 7,699ê±´ | 1ê°œ | í‚¤ì›Œë“œ ê¸°ë°˜ ê²€ìƒ‰ |

## ğŸ“ í´ë” êµ¬ì¡°

### ë‚ ì§œ ê¸°ë°˜ ìˆ˜ì§‘ í´ë” êµ¬ì¡°

```
data/raw/precedents/
â”œâ”€â”€ yearly_2025_20250125_143022/          # ì—°ë„ë³„ ìˆ˜ì§‘ (2025ë…„)
â”‚   â”œâ”€â”€ batch_ë¯¼ì‚¬_ê³„ì•½ì†í•´_150ê±´_20250125_143045.json
â”‚   â”œâ”€â”€ batch_í˜•ì‚¬_200ê±´_20250125_143102.json
â”‚   â””â”€â”€ batch_í–‰ì •_100ê±´_20250125_143115.json
â”œâ”€â”€ quarterly_2024Q4_20250125_144500/     # ë¶„ê¸°ë³„ ìˆ˜ì§‘ (2024ë…„ 4ë¶„ê¸°)
â”‚   â”œâ”€â”€ batch_ë¯¼ì‚¬_ê³„ì•½ì†í•´_80ê±´_20250125_144520.json
â”‚   â””â”€â”€ batch_í˜•ì‚¬_120ê±´_20250125_144535.json
â”œâ”€â”€ monthly_2024ë…„12ì›”_20250125_145000/   # ì›”ë³„ ìˆ˜ì§‘ (2024ë…„ 12ì›”)
â”‚   â””â”€â”€ batch_ë¯¼ì‚¬_ê³„ì•½ì†í•´_50ê±´_20250125_145015.json
â”œâ”€â”€ weekly_20250120ì£¼_20250125_145500/    # ì£¼ë³„ ìˆ˜ì§‘ (2025ë…„ 1ì›” 20ì¼ ì£¼)
â”‚   â””â”€â”€ batch_í˜•ì‚¬_30ê±´_20250125_145520.json
â”œâ”€â”€ yearly_collection_summary_20250125_143022.json
â”œâ”€â”€ quarterly_collection_summary_20250125_144500.json
â”œâ”€â”€ monthly_collection_summary_20250125_145000.json
â””â”€â”€ weekly_collection_summary_20250125_145500.json
```

### ê¸°ì¡´ í‚¤ì›Œë“œ ê¸°ë°˜ ìˆ˜ì§‘ í´ë” êµ¬ì¡°

```
data/raw/precedents/
â”œâ”€â”€ batch_ë¯¼ì‚¬_ê³„ì•½ì†í•´_200ê±´_20250125_140000.json
â”œâ”€â”€ batch_í˜•ì‚¬_300ê±´_20250125_140500.json
â”œâ”€â”€ batch_í–‰ì •_150ê±´_20250125_141000.json
â”œâ”€â”€ collection_checkpoint_20250125_140000.json
â””â”€â”€ collection_summary_20250125_141500.json
```

## ğŸ”§ ì£¼ìš” ê¸°ëŠ¥

### ë‚ ì§œ ê¸°ë°˜ ìˆ˜ì§‘ (NEW)

- **ì²´ê³„ì  ìˆ˜ì§‘**: ì—°ë„ë³„, ë¶„ê¸°ë³„, ì›”ë³„, ì£¼ë³„ ìˆ˜ì§‘ ì „ëµ
- **í´ë”ë³„ ì €ì¥**: ê° ìˆ˜ì§‘ ì‹¤í–‰ë§ˆë‹¤ ë³„ë„ í´ë”ë¡œ ë°ì´í„° êµ¬ë¶„
- **ì„ ê³ ì¼ì ë‚´ë¦¼ì°¨ìˆœ**: ìµœì‹  íŒë¡€ ìš°ì„  ìˆ˜ì§‘ (`sort: "ddes"`)
- **ì¤‘ë³µ ë°©ì§€**: ê¸°ì¡´ ìˆ˜ì§‘ ë°ì´í„°ì™€ ì¤‘ë³µ ì œê±°
- **ë°°ì¹˜ ì €ì¥**: 100ê±´ ë‹¨ìœ„ë¡œ íš¨ìœ¨ì ì¸ ì €ì¥
- **ì§„í–‰ ìƒí™© ì¶”ì **: ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§

### ê¸°ì¡´ í‚¤ì›Œë“œ ê¸°ë°˜ ìˆ˜ì§‘

- **í‚¤ì›Œë“œ ê¸°ë°˜**: ë²•ë¥  ë¶„ì•¼ë³„ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰
- **ë‹¤ì¤‘ ì „ëµ**: 6ê°€ì§€ ê²€ìƒ‰ ì „ëµ ë™ì‹œ ì ìš©
- **ìš°ì„ ìˆœìœ„**: ì¤‘ìš”ë„ì— ë”°ë¥¸ ì°¨ë“± ìˆ˜ì§‘
- **ì²´í¬í¬ì¸íŠ¸**: ì¤‘ë‹¨ ì‹œ ì§„í–‰ ìƒí™© ì €ì¥ ë° ë³µêµ¬

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### API ìš”ì²­ ìµœì í™”

- **ì„ ê³ ì¼ì ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬**: `sort: "ddes"` íŒŒë¼ë¯¸í„° ì‚¬ìš©
- **ë°°ì¹˜ í¬ê¸° ìµœì í™”**: í•œ ë²ˆì— 100ê±´ì”© ì¡°íšŒ
- **ëœë¤ ì§€ì—°**: API ìš”ì²­ ê°„ 1-3ì´ˆ ëœë¤ ì§€ì—°
- **ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜**: ìµœëŒ€ 3íšŒ ì¬ì‹œë„

### ë©”ëª¨ë¦¬ ìµœì í™”

- **ë°°ì¹˜ ì €ì¥**: 100ê±´ë§ˆë‹¤ íŒŒì¼ë¡œ ì €ì¥
- **ì¤‘ë³µ ë°©ì§€**: Set ìë£Œêµ¬ì¡°ë¡œ ì¤‘ë³µ ID ê´€ë¦¬
- **ì§€ì—° ë¡œë”©**: í•„ìš”í•  ë•Œë§Œ ë°ì´í„° ë¡œë“œ

## ğŸ“‹ ë°ì´í„° í˜•ì‹

### ë°°ì¹˜ íŒŒì¼ êµ¬ì¡°

```json
{
  "metadata": {
    "category": "ë¯¼ì‚¬_ê³„ì•½ì†í•´",
    "count": 150,
    "saved_at": "2025-01-25T14:30:45.123456",
    "batch_id": "20250125_143045"
  },
  "precedents": [
    {
      "íŒë¡€ì¼ë ¨ë²ˆí˜¸": "123456",
      "ì‚¬ê±´ëª…": "ê³„ì•½ê¸ˆ ë°˜í™˜ ì²­êµ¬ ì‚¬ê±´",
      "ì‚¬ê±´ë²ˆí˜¸": "2024ë‹¤12345",
      "ë²•ì›ì½”ë“œ": "01",
      "ì‚¬ê±´ìœ í˜•ì½”ë“œ": "01",
      "íŒê²°ì¼ì": "20241215",
      "ì„ ê³ ì¼ì": "20241215",
      "ë²•ì›ëª…": "ëŒ€ë²•ì›",
      "ì‚¬ê±´ìœ í˜•": "ë¯¼ì‚¬",
      "íŒê²°ìš”ì§€": "ê³„ì•½ê¸ˆì˜ ì„±ì§ˆê³¼ ë°˜í™˜ ì‚¬ìœ ì— ê´€í•œ íŒë‹¨...",
      "íŒê²°ì£¼ë¬¸": "ì›ê³ ì˜ ì²­êµ¬ë¥¼ ê¸°ê°í•œë‹¤.",
      "ì°¸ì¡°ì¡°ë¬¸": "ë¯¼ë²• ì œ565ì¡°",
      "ì°¸ì¡°íŒë¡€": "ëŒ€ë²•ì› 2023ë‹¤12345 íŒê²°",
      "íŒë¡€ë‚´ìš©": "ìƒì„¸í•œ íŒë¡€ ë‚´ìš©..."
    }
  ]
}
```

### ìˆ˜ì§‘ ìš”ì•½ íŒŒì¼ êµ¬ì¡°

```json
{
  "strategy": "yearly",
  "years": [2025, 2024, 2023, 2022, 2021],
  "target_per_year": 2000,
  "collected_by_year": {
    "2025": 1850,
    "2024": 1950,
    "2023": 1800,
    "2022": 1750,
    "2021": 1650
  },
  "total_collected": 9000,
  "start_time": "2025-01-25T14:30:22.123456",
  "end_time": "2025-01-25T15:45:30.654321"
}
```

## ğŸš¨ ì£¼ì˜ì‚¬í•­

### API ì œí•œ

- **ì¼ì¼ 1000íšŒ ì œí•œ**: API ìš”ì²­ ìˆ˜ ëª¨ë‹ˆí„°ë§ í•„ìš”
- **ìš”ì²­ ê°„ ì§€ì—°**: 1-3ì´ˆ ëœë¤ ì§€ì—° í•„ìˆ˜
- **ì¬ì‹œë„ ì œí•œ**: ìµœëŒ€ 3íšŒ ì¬ì‹œë„

### ì €ì¥ ê³µê°„

- **í´ë” ìˆ˜ ì¦ê°€**: ìˆ˜ì§‘ ì‹¤í–‰ë§ˆë‹¤ ìƒˆ í´ë” ìƒì„±
- **ë””ìŠ¤í¬ ê³µê°„**: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì €ì¥ ê³ ë ¤
- **ì •ë¦¬ ì‘ì—…**: ì˜¤ë˜ëœ í´ë” ì •ë¦¬ í•„ìš”

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- [ë‚ ì§œ ê¸°ë°˜ íŒë¡€ ìˆ˜ì§‘ ì „ëµ ìƒì„¸ ë¬¸ì„œ](../docs/development/date_based_collection_strategy.md)
- [TASKë³„ ìƒì„¸ ê°œë°œ ê³„íš](../docs/development/TASK/TASKë³„ ìƒì„¸ ê°œë°œ ê³„íš_v1.0.md)
- [í”„ë¡œì íŠ¸ README](../../README.md)

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

ìƒˆë¡œìš´ ìˆ˜ì§‘ ì „ëµì´ë‚˜ ê°œì„ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•˜ê±°ë‚˜ í’€ ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ë³´ë‚´ì£¼ì„¸ìš”.

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.
